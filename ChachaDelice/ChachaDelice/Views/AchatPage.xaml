<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:d="http://xamarin.com/schemas/2014/forms/design"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:pancake="clr-namespace:Xamarin.Forms.PancakeView;assembly=Xamarin.Forms.PancakeView"
             xmlns:vm="clr-namespace:ChachaDelice.ViewModels"
             xmlns:helpers="clr-namespace:ChachaDelice.Helpers"
             mc:Ignorable="d"
             x:Class="ChachaDelice.Views.AchatPage">

    <ContentPage.BindingContext>
        <vm:AchatPageVM/>
    </ContentPage.BindingContext>
    <ContentPage.Content>
        <Grid BackgroundColor="#950F16" >
            <Grid.RowDefinitions>
                <RowDefinition Height="100" />
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <BoxView Grid.Row="0" />

            <Path Aspect="Uniform"   
                    Stroke="Transparent"
                    StrokeThickness="1"
                    Fill="White"
                    BackgroundColor="Transparent"
                    HorizontalOptions="Start"
                    Data="M621.17,330.49c2,.78,1.09,6.49,1.22,15a103.22,103.22,0,0,0,1,13c2.09-2.19,5.16-5.34,9-9,.83-.79,5.14-4.9,7.36-6.75,8.81-7.34,20.43-8.72,22.48-9.08,15.64-2.77,33.9,3.64,40.29,18.19,4.21,9.58,2.51,21.23-3.37,29.89s-15.55,14.38-25.79,16.54c-19.17,4.05-40.4-4.77-51.06-21.21a77.12,77.12,0,0,0-10.11,41.68c.26,5.45,1.15,11,3.93,15.74,5.4,9.09,16.84,13,27.42,12.94a54.46,54.46,0,0,0,45.07-25c5.95-9.46,8.77-20.48,12.61-31,1.35-3.7,2.93-7.48,5.85-10.11s7.55-3.78,10.85-1.63l-16.39,33.63a87.36,87.36,0,0,1,25-19.06,4.69,4.69,0,0,1,3.4-.7c2.81.89,1.63,5.12,0,7.59a106.76,106.76,0,0,0-13.13,28.83,6.22,6.22,0,0,0-.17,4.18c.9,2.07,3.82,2.56,5.84,1.55s3.3-3,4.38-5c5.24-9.57,8.13-20.47,14.77-29.13s19.18-14.46,28.53-8.84a5.55,5.55,0,0,1,2.93,3.54c.26,1.57-1.13,3.38-2.67,3a4.8,4.8,0,0,1-1.8-1.26c-3.34-2.95-8.6-2.89-12.56-.84s-6.83,5.71-9.17,9.51a63,63,0,0,0-8.75,24.72c-.17,1.34-.2,2.93.87,3.75,1.59,1.22,3.76-.42,5-2a108.39,108.39,0,0,0,12.74-19.47c1.87-3.65,3.6-7.52,6.64-10.26s7.87-4,11.28-1.77a67.23,67.23,0,0,0-12.2,35.11c8.87-6.47,12.83-17.5,18-27.16s13.87-19.34,24.83-18.85c3.48.16,7.39,1.94,8,5.36a8.43,8.43,0,0,1-.46,4.06A25,25,0,0,1,806.24,411c-2.58-1-1.8-4.91-.27-7.22s3.38-5.41,1.63-7.56-5.27-.92-7.51.74A35.65,35.65,0,0,0,786,427.42c.22,3.21,1.1,6.74,3.8,8.48,5.07,3.28,11.27-2,14.64-7a136.48,136.48,0,0,0,16.77-34.59c1.39-4.36,2.65-8.95,5.64-12.42s8.35-5.42,12.26-3l-17.46,34.47a53.3,53.3,0,0,1,30.11-20l-14.82,34.31c-.77,1.8-1.57,3.72-1.29,5.66s2.08,3.81,4,3.39a5.14,5.14,0,0,0,2.76-2.23c4.83-6.45,8-14,11.68-21.14s8.31-14.19,15.09-18.56,16.22-5.43,22.76-.71c1.83,1.32,3,4.74.83,5.34-1.69.47-2.81-1.6-4-2.86-3.58-3.78-9.93-.76-13.69,2.84A60.68,60.68,0,0,0,858.32,428c-.58,2.26-.79,5.14,1.15,6.43,2.38,1.57,5.36-.79,7.17-3a155.54,155.54,0,0,0,14.58-21.22c1.4-2.45,2.8-5,5.07-6.69s5.71-2.16,7.82-.29A95,95,0,0,0,883,428.67c-.63,2.34,0,6,2.39,5.5a3.65,3.65,0,0,0,1.94-1.7l14.1-20.19c-.49,9-6.59,16.58-12.41,23.47-2.07,2.45-4.58,5.12-7.8,5.09s-5.79-2.93-6.57-6-.17-6.37.45-9.51c-2.58,5.56-5.61,11.58-11.25,14s-13.94-2.07-12.48-8c-3.06,3.65-6.67,7.15-11.27,8.38s-10.31-.63-12-5.09a13,13,0,0,1-.07-7.08,47.64,47.64,0,0,1,10.95-22c-2.23-1.83-5.53.07-7.61,2.06a60.52,60.52,0,0,0-11.84,15.86c-2.06,4-3.7,8.25-6.52,11.73s-7.22,6.14-11.64,5.41v-3.68c0-1-2.22,3.08-5.71,4.29-2.92,1-5.86-.09-7.32-.64a15.1,15.1,0,0,1-5-3.23c-4.38-4.25-4.87-10-5-11.77-.27,1.28-2,8.91-9,12.63-1.24.66-9.13,5.07-13.55.49-3.39-3.51-2.57-9.18-1.52-13.95-1.42,4.17-3.23,8.37-6.4,11.45s-8,4.81-12.12,3.3-6.74-6.93-4.45-10.7c-2,3.79-4,7.71-7.46,10.23s-8.66,3.15-11.77.24c-2.59-2.41-3-6.37-2.72-9.9a44,44,0,0,1,8.83-23.49c-7.49,3-13.46,8.64-18.2,15a91.54,91.54,0,0,0-6.5,10.34c-1.78,3.25-3.17,7.62-6.77,9.29-2.66,1.23-6.6-.17-6.81-3.1-5.63,9.65-17,14.55-28.09,16.1s-23.11.14-32.32-6.32-14.7-17.47-16-28.67c-1.52-12.94,2-23.84,5.4-33,5-13.65,8.13-12.53,8.45-19.94s-2.34-22.22-1.75-28.77a7.37,7.37,0,0,1,1.68-4.27C618.12,331.54,619.94,330,621.17,330.49Z"
                  />
            <StackLayout >
                <StackLayout  HorizontalOptions="Center" WidthRequest="120"   VerticalOptions="Center" TranslationX="40" TranslationY="10">
                    <Image Source="delicewhite" HeightRequest="30" />
                </StackLayout>
            </StackLayout>
           


            <ImageButton Source="{FontImage FontFamily=FontAwesome,
                Glyph={x:Static helpers:IconFont.ArrowLeft}, Size=30, Color=White}"
                Grid.Row="0" HorizontalOptions="Start" Aspect="AspectFit" BackgroundColor="Transparent"
                VerticalOptions="Start" Margin="10,30" Clicked="ImageButton_Clicked" />

            <pancake:PancakeView Grid.Row="1" BackgroundColor="WhiteSmoke"
                                 CornerRadius="60,60,0,0">
                <ListView x:Name="ListViewCartItems" Margin="20"
                          SeparatorVisibility="None" BackgroundColor="WhiteSmoke"
                          ItemsSource="{Binding AchatsList}"
                          Header="" HasUnevenRows="True">
                    <ListView.HeaderTemplate>
                        <DataTemplate>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <Label Text="Id" Grid.Column="0" FontSize="20"
                                       TextColor="#950F16" FontAttributes="Bold"   
                                       />
                                <Label Text="Name" Grid.Column="1" FontSize="20"
                                       TextColor="#950F16" FontAttributes="Bold"
                                       />
                                <Label Text="Price" Grid.Column="2" FontSize="20"
                                       TextColor="#950F16" FontAttributes="Bold"
                                    
                                       HorizontalTextAlignment="Center"/>
                                <Label Text="Qty" Grid.Column="3" FontSize="20"
                                        TextColor="#950F16" FontAttributes="Bold"
                                       HorizontalTextAlignment="Center"/>
                                <Label Text="Cost" Grid.Column="4" FontSize="20" 
                                       TextColor="#950F16" FontAttributes="Bold"
                                       HorizontalOptions="Center"/>
                            </Grid>
                        </DataTemplate>
                    </ListView.HeaderTemplate>

                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <ViewCell>
                                <ViewCell.View>
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="2*" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>

                                        <Label Text="{Binding ProductID}" Grid.Column="0" FontSize="Body" 
                                     TextColor="#950F16" Margin="0,10"
                                               />
                                        <Label Text="{Binding Name}" Grid.Column="1" FontSize="Body"  
                                     TextColor="#950F16" Margin="0,10" LineBreakMode="TailTruncation" />

                                        <Label Text="{Binding Prix}" Grid.Column="2" FontSize="Body"  
                                        TextColor="#950F16" Margin="0,10"
                                               />
                                        <Label Text="{Binding Quantity}" Grid.Column="3" FontSize="Body" 
                                   TextColor="#950F16" Margin="0,10"
                                               />
                                        <Label Text="{Binding Cost}" Grid.Column="4" FontSize="Body" HorizontalTextAlignment="Center"
                                     TextColor="#950F16" Margin="0,10"
                                              />
                                    </Grid>
                                </ViewCell.View>
                            </ViewCell>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
            </pancake:PancakeView>

            <Label Text="{Binding TotalCost, StringFormat='Total Cost : {0:c}'}"
                   Grid.Row="2" HorizontalTextAlignment="End" FontSize="Subtitle"
                   TextColor="WhiteSmoke"/>

            <Button Text="Place Order" Grid.Row="3" TextColor="White"
                    Command="{Binding PlaceOrdersCommand}"
                    HorizontalOptions="Center" CornerRadius="20"
                    />

        </Grid>
    </ContentPage.Content>
</ContentPage>